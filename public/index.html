<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<!-- <script src="generator.js"></script> -->
	<link rel="stylesheet" href="stylesheets/style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
	
	<script src='javascripts/third-party/jquery.js'></script>
</head>
<body>

	<h1>Schedule</h1>
	
	<button name='generate'>Generate New</button><button name='cancel'>Cancel</button>

	<table class='schedule'>
		<thead>
			<tr>
				<th scope="col" class='month' data-month='none'>2016</th>
				<th scope="col" class='month' data-month='Jan'>January</th>
				<th scope="col" class='month' data-month='Feb'>February</th>
				<th scope="col" class='month' data-month='Mar'>March</th>
				<th scope="col" class='month' data-month='Apr'>April</th>
				<th scope="col" class='month' data-month='May'>May</th>
				<th scope="col" class='month' data-month='Jun'>June</th>
				<th scope="col" class='month' data-month='Jul'>July</th>
				<th scope="col" class='month' data-month='Aug'>August</th>
				<th scope="col" class='month' data-month='Sep'>September</th>
				<th scope="col" class='month' data-month='Oct'>October</th>
				<th scope="col" class='month' data-month='Nov'>November</th>
				<th scope="col" class='month' data-month='Dec'>December</th>
			</tr>
		</thead>

		<tbody class='jade-views'>
			<!-- Where jade should insert stuff -->
		</tbody>
	</table>

	<script src='javascripts/client/schedule.js'></script>
	<script src='javascripts/client/settings.js'></script>
	<script src='javascripts/client/page.js'></script>
	<script>
		var residents = [
			// MAX 3 VACATIONS IN `vacationMonths`!!! OTHERS CAN GO IN `extraVacationMonths`
			// `rejects` is monts and rotations that the resident definitely doesn't want to do
			// each working schedule should be kept with final results
			{
				name: 'Roxi', dh_uh: 'dh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [{month:'Jul', rotation:'Elec'}],
				rejected: [/*{month: 'x', roations: ['x', 'x']}*/],  // maybe this should have been { 'Jun': [] }
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Sarah', dh_uh: 'dh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [{month:'Aug', rotation:'Rural'}],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Will', dh_uh: 'dh', locked: false,
				vacationMonths: [/*"May", "Dec"*/], extraVacationMonths: [],
				requested: [],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Hayley', dh_uh: 'dh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [ {month: 'Jul', rotation: 'Elec'} ],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Beka', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [ {month: 'Aug', rotation: 'W-P'} ],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Ali', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [ {month: 'Jul', rotation: 'Elec'} ],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Alex', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Lisa', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Emily', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			},
			{
				name: 'Kelly', dh_uh: 'uh', locked: false,
				vacationMonths: [], extraVacationMonths: [],
				requested: [ {month: 'Aug', rotation: 'W-P'} ],
				rejected: [],
				possible: [],//, schedule: []
				lockedMonths: [],
				selected: []  // there will be repeats from requested
			}
		];

		// var settings = Settings();
		var page 		= Page();
		var tbody 	 	= $('.jade-views')[0];
		page.load( tbody, residents );

		var schedHandler = ScheduleHandler();
		// Need to:
		// - Events -
		// detect events
		// - Settings -
		// save/update settings (maybe for undo)
		// load settings
		// - Data -
		// generate data
		// display data
		// save data
		// convert data to csv and make available

	</script>
</body>
</html>